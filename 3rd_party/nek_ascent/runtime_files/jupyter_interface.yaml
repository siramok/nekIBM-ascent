- 
  action: "add_pipelines"
  pipelines: 
    pl1:
      f1: 
        type: "vector_magnitude"
        params: 
          field: "velocity"
          output_name: "velocity_mag"
      f2: 
        type: "recenter"
        params: 
          field: "velocity_mag"
          association: "element"

-
  action: "add_queries"
  queries:
    bin_density:
      pipeline: "pl1"
      params:
        expression: "binning('velocity_mag','avg', [axis('x', [-2.0, 2.0]), axis('y', num_bins=20), axis('z', [-2.0, 2.0])])"
        name: avg_y_velocity

-
  action: "save_session"
  file_name: "bin_data"
  expression_list:
    - avg_y_velocity

-
  action: "add_extracts"
  extracts:
    e1:
      type: "jupyter"